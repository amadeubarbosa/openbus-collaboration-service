
import modules ;
import loop ;
import oil ;

project collaborationService
  : build-dir build
;

oil.idl2lua parsed.lua 
  : idl/collaboration.idl 
;

loop.pre-compile collaborationService.c
  : [ glob-tree *.lua : test *.luad ] 
    parsed.lua
;

exe collaborationService
  : collaborationService.c
    src/collaborationservlibs.c 
    src/launcher.c
    /dl//dl 
    /lua//lua 
    /luuid//luuid 
    /lce//lce 
    /luafilesystem//lfs 
    /luastruct//luastruct 
    /loop//luatuple /loop//luacoroutine /loop//luacothread /loop//luainspector 
    /loop//loop 
    /luavararg//luavararg
    /oil//luaidl /oil//oil
    /luasocket//luasocket2 
    /luascs//luascs
    /luaopenbus//luaopenbus
  : <include>src <implicit-dependency>collaborationService.h
;
